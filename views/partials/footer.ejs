
    <script>
    let recipes;
    let recipesFilter;
    fetch('/recipes/raw')
        .then((response) =>{
            return response.json();
        })
        .then((myJson) => {
            console.log(myJson);
            recipes = myJson;

            //Examples of filter
            const recipesFiltered = recipes.filter(r => r.name.toLowerCase().includes("p") > 0); // recipes with a P
            console.log(recipesFiltered);

            const recipesFiltered2 = recipes.filter(r => r.name.toLowerCase().includes("p") && r.cookingTime.includes("45") > 0); // recipes with a P and more than 45 minutes of cooking
            console.log(recipesFiltered2);

            recipesFilter = recipes;
            // Adding recipes
            const filteredRecipes = document.getElementById("filteredRecipes");
            fillRecipesFilter(recipesFilter, filteredRecipes);
        });


    function filterEnLive(theInput){
        console.log(theInput.target.value);
        recipesFilter = recipes.filter(r => r.name.toLowerCase().includes(theInput.target.value) > 0);
        console.log(recipesFilter);

        const filteredRecipes = document.getElementById("filteredRecipes");
        while (filteredRecipes.firstChild) {
            filteredRecipes.removeChild(filteredRecipes.firstChild);
        }

        // Adding recipes
        fillRecipesFilter(recipesFilter, filteredRecipes);
    }

    function fillRecipesFilter(recipesFilter, filteredRecipes){
        recipesFilter.forEach(recipe => {
            console.log(recipe);
            var recipeNode = document.createElement("p");
            recipeNode.textContent = recipe.name;
            filteredRecipes.appendChild(recipeNode);
        });
    }

    window.addEventListener("input", filterEnLive);
    </script>
    </body>
</html>